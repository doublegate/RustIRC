# Dependency Review Configuration
# Documentation: https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-dependency-review

# Fail the action on critical and high severity vulnerabilities
fail-on-severity: high

# Allow specific licenses (all other licenses will be flagged)
# Note: Cannot specify both allow-licenses and deny-licenses
# Comprehensive list for Rust ecosystem compatibility
allow-licenses:
  # Standard permissive licenses
  - MIT
  - Apache-2.0
  - BSD-2-Clause
  - BSD-3-Clause
  - ISC
  - CC0-1.0
  - Unlicense
  - 0BSD
  # Unicode licenses (used by unicode-ident, unicode-normalization, etc.)
  - Unicode-DFS-2016
  - Unicode-3.0
  # Compression and utility licenses
  - Zlib
  # Mozilla and other OSS licenses
  - MPL-2.0
  - BSL-1.0
  # LLVM-related licenses
  - Apache-2.0 WITH LLVM-exception
  # OpenSSL and cryptography
  - OpenSSL
  # Blue Oak Model License (used by some Rust crates)
  - BlueOak-1.0.0
  # Creative Commons licenses
  - CC-BY-3.0
  - CC-BY-4.0
  # Public domain equivalent
  - WTFPL
  # Additional permissive licenses found in Rust ecosystem
  - MIT-0
  - NCSA

# Allow specific packages even if they fail other checks
# Uses Package URL (purl) format: pkg:cargo/package-name
allow-dependencies-licenses:
  # Core Rust ecosystem crates that are essential
  - pkg:cargo/serde
  - pkg:cargo/serde_json
  - pkg:cargo/tokio
  - pkg:cargo/clap
  # Unicode crates with special license definitions
  - pkg:cargo/unicode-ident
  - pkg:cargo/unicode-normalization
  - pkg:cargo/unicode-bidi
  - pkg:cargo/unicode-width
  - pkg:cargo/unicode-segmentation
  - pkg:cargo/unicode-properties
  # Cryptography crates with custom licenses
  - pkg:cargo/ring
  - pkg:cargo/webpki
  - pkg:cargo/rustls-webpki
  - pkg:cargo/aws-lc-rs
  - pkg:cargo/aws-lc-sys
  - pkg:cargo/untrusted
  # OpenSSL bindings
  - pkg:cargo/openssl
  - pkg:cargo/openssl-sys
  # Low OpenSSF scorecard but essential crates
  - pkg:cargo/lab
  # GUI framework crates (may have complex license expressions)
  - pkg:cargo/iced
  - pkg:cargo/iced_core
  - pkg:cargo/iced_widget
  - pkg:cargo/iced_runtime

# Deny specific packages using purl format
deny-packages: []

# Allow vulnerabilities for specific advisories (temporary exceptions)
allow-ghsas: []

# Configuration for comment behavior
comment-summary-in-pr: auto
warn-only: false
vulnerability-check: true
license-check: true
